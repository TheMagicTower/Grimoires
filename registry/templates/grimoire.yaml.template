# Grimoire Configuration
# Auto-generated by /init
# Customize as needed

version: "0.1"

#===============================================================================
# Project Information
#===============================================================================
project:
  name: "{{PROJECT_NAME}}"
  type: "{{PROJECT_TYPE}}"           # frontend | backend | fullstack | library
  framework: "{{FRAMEWORK}}"         # react | vue | nextjs | express | fastapi | etc
  language: "{{LANGUAGE}}"           # typescript | javascript | python | etc

#===============================================================================
# Familiars (AI Agents)
#===============================================================================
familiars:
  enabled:
    {{#FAMILIARS}}
    - {{.}}
    {{/FAMILIARS}}

  config:
    codex:
      # OpenAI Codex settings
      model: gpt-4
      max_tokens: 8192
      focus: []                       # Specific areas to focus on

    gemini:
      # Google Gemini settings
      model: gemini-1.5-pro
      focus: [security, performance]
      depth: medium                   # shallow | medium | deep

    stitch:
      # Stitch UI settings
      framework: "{{UI_FRAMEWORK}}"   # react | vue | html
      styling: "{{STYLING}}"          # tailwind | styled-components | css

    reviewer:
      # Code review settings
      auto_fix: true
      max_retries: 3
      severity_threshold: medium      # Block on medium+ issues

#===============================================================================
# Rules (Design Principles)
#===============================================================================
rules:
  enabled:
    {{#RULES}}
    - {{.}}
    {{/RULES}}

  # Severity overrides (optional)
  severity:
    # security: critical            # Upgrade security to critical
    # naming: low                   # Downgrade naming to low

  # Custom project rules (paths to .md files)
  custom: []
    # - ./rules/api-conventions.md
    # - ./rules/component-patterns.md

#===============================================================================
# Spells (Workflows)
#===============================================================================
spells:
  enabled:
    {{#SPELLS}}
    - {{.}}
    {{/SPELLS}}

  config:
    auto-review:
      on_commit: true
      on_pr: true

    parallel-execution:
      max_parallel: 4

#===============================================================================
# Project Context
#===============================================================================
context:
  # Auto-detected (can be overridden)
  styling: "{{STYLING}}"
  testing: "{{TESTING}}"
  state_management: "{{STATE}}"

  # Project-specific conventions (loaded into Archmage context)
  conventions: |
    {{#CONVENTIONS}}
    - {{.}}
    {{/CONVENTIONS}}

  # Additional context files to load
  include:
    - .serena/memories/project-context.md

#===============================================================================
# Cost Management (Optional)
#===============================================================================
cost:
  enabled: false
  daily_budget: 10.00
  alerts: true

#===============================================================================
# MCP Configuration
#===============================================================================
mcp:
  # Auto-generate .claude/settings.local.json
  auto_generate: true

  # Additional MCP servers
  additional: []
    # - name: custom-mcp
    #   command: npx
    #   args: ["-y", "custom-mcp-server"]
