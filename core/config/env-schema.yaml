# Grimoires Environment Variables Schema
# Defines required and optional environment variables for MCP servers

version: "0.3.0"

variables:
  # Core
  - name: GRIMOIRES_HOME
    required: false
    default: "$HOME/.grimoires"
    description: "Grimoires installation directory"
    category: core

  # OpenAI / Codex
  - name: OPENAI_API_KEY
    required: false
    pattern: "^sk-[a-zA-Z0-9]{20,}$"
    description: "OpenAI API key for Codex MCP"
    services: [codex]
    docs: "https://platform.openai.com/api-keys"
    category: mcp

  # Google / Gemini
  - name: GOOGLE_API_KEY
    required: false
    pattern: "^AI[a-zA-Z0-9_-]{35,}$"
    description: "Google AI API key for Gemini MCP"
    services: [gemini]
    docs: "https://aistudio.google.com/app/apikey"
    category: mcp

  # Figma / Stitch
  - name: FIGMA_ACCESS_TOKEN
    required: false
    description: "Figma personal access token for Stitch MCP"
    services: [stitch]
    docs: "https://www.figma.com/developers/api#access-tokens"
    category: mcp

  # GitHub
  - name: GITHUB_TOKEN
    required: false
    pattern: "^(ghp_|github_pat_)[a-zA-Z0-9_]+$"
    description: "GitHub personal access token"
    services: [github]
    docs: "https://github.com/settings/tokens"
    category: mcp

  # Exa Search
  - name: EXA_API_KEY
    required: false
    description: "Exa API key for web search"
    services: [exa]
    docs: "https://exa.ai"
    category: mcp

  # Context7
  - name: CONTEXT7_API_KEY
    required: false
    description: "Context7 API key for large context management"
    services: [context7]
    docs: "https://context7.com"
    category: mcp

  # Anthropic (for extended features)
  - name: ANTHROPIC_API_KEY
    required: false
    pattern: "^sk-ant-[a-zA-Z0-9-]{90,}$"
    description: "Anthropic API key"
    services: [anthropic]
    docs: "https://console.anthropic.com/settings/keys"
    category: mcp

# Service groups for different use cases
groups:
  minimal:
    description: "Basic functionality (Claude only)"
    variables: [GRIMOIRES_HOME]

  basic:
    description: "Basic MCP stack (Codex + Gemini)"
    variables: [GRIMOIRES_HOME, OPENAI_API_KEY, GOOGLE_API_KEY]

  frontend:
    description: "Frontend development (+ Stitch)"
    variables: [GRIMOIRES_HOME, OPENAI_API_KEY, GOOGLE_API_KEY, FIGMA_ACCESS_TOKEN]

  backend:
    description: "Backend development (+ GitHub)"
    variables: [GRIMOIRES_HOME, OPENAI_API_KEY, GOOGLE_API_KEY, GITHUB_TOKEN]

  full:
    description: "All MCP services"
    variables: [all]

# Categories for grouping in UI
categories:
  core:
    name: "Core"
    description: "Essential Grimoires settings"
  mcp:
    name: "MCP Servers"
    description: "API keys for MCP servers"
